<!DOCTYPE html>
<html lang="en">

<head>
    <title>Mini-Shopify Search Results</title>
    <meta charset="UTF-8">
    <meta name="author" content="Nicholai Ponomarev">
    <link rel="stylesheet" href="/css/merchant_home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script></script>
</head>

<body>
    <div class="header-bar">
        <img src="/images/Mini-Shopify Logo.png" alt="Mini-Shopify Logo" style="width: 50px; height: 50px;">
        <form id="search-bar" action="/home/search/results}" method="get">
            <input type="hidden" name="buyerId" th:value="${buyerId}">
            <input type="search" id="searchString" name="searchString" placeholder="Search by shop name or tags...">
            <button type="submit">Search</button>
        </form>
        <div class="dropdown-account-menu">
            <button onclick="toggleProfileMenuDropdown()" class="dropdown-account-button">
                <i class="fa fa-user"></i> Account
            </button>
            <div class="dropdown-account-content">
                <a href="#">Manage Account</a>
                <a href="/index.html">Logout</a>
            </div>
        </div>
    </div>
    <div class="main-content">
        <aside class="side-menu">
            <div class="menu-item"><i class="fa fa-home" aria-hidden="true"></i>
                <p> Home</p>
            </div>
            <div th:if="${buyer == null}" class="menu-item"><i class="fa fa-shopping-cart"></i>
                <p> Orders</p>
            </div>
            <div th:if="${buyer}" class="menu-item"><i class="fa fa-shopping-cart"></i>
                <p> My Orders</p>
            </div>
            <div class="menu-item"><i class="fa fa-cog"></i>
                <p> Settings</p>
            </div>
        </aside>
        <main class="content-area">
            <div class="page-title-div">
                <div>
                    <h1>Search Results</h1>
                </div>
            </div>
            <p>Showing Shop results for: <span id="displaySearchString" th:text="${searchString}">magic</span>
            </p>
            <!-- Display the Shop Tiles Here -->
            <section class="tiles-container">
                <div class="tile" th:each="shop : ${shopResults}">
                    <a th:href="@{/home/search/{shopId}(shopId=${shop.id}, buyerId=${buyerId})}" class="tile-link">
                        <h2 th:text="${shop.name}">magic</h2>
                        <img src="/images/nafinia-putra-Kwdp-0pok-I-unsplash.jpg" alt="Shop Stock Image 1">
                        <div class="displayTags">
                            <ul>
                                <li th:each="tag : ${shop.tags}">
                                    <p th:text="${tag.name}">magic</p>
                                </li>
                            </ul>
                        </div>
                    </a>
                </div>
            </section>
        </main>
    </div>
</body>

</html>
